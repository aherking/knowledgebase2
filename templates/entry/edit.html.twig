{% extends 'start/index.html.twig' %}

{%  block body %}
    {% include '_includes/minimal.html.twig' %}

    {%  block content %}
        <form class="container" method="POST">
        <h1 class="my-4">Eintrag bearbeiten</h1>
            {% for label, messages in app.flashes %}
                {% for message in messages %}
                    <div class="alert alert-{{ label }}">
                        {{ message }}
                    </div>
                {% endfor %}
            {% endfor %}
        <div class="form-group">
            <h3>Titel</h3>
            <hr>
            <input type="text" class="form-control" name="entry[name]" value="{{ entry.name }}">
        </div>
        <div class="form-group shadow-textarea" aria-rowcount="10">
            <div class="form-group shadow-textarea" aria-rowcount="10">
            <h3>Workflow</h3>
            <hr>
                <input id="workflow" value="{{ entry.workflow }}" type="hidden"  name="entry[workflow]">
                <textarea id="editor" name="entry[workflow]" value="">{{ entry.workflow }}</textarea>

            </div>
            <div class="form-group">
                <h3>Fehlermeldung</h3>
                <hr>
                <textarea id="editor" name="entry[error]" value="">{{ entry.error }}</textarea>

            </div>
            <div class="form-group">
                <h3>Lösung</h3>
                <hr>
                <textarea id="editor" name="entry[solution]" value="">{{ entry.solution }}</textarea>

            </div>
            <div>
                <h3>Wähle einen Haupt-Tag</h3>
                <hr>
                <select class="custom-select" name="entry[tagID][]">
                    {% for tag in tags %}
                        {% if tag.main %}
                            {% if tag in entry.getTagId() %}
                                <option selected value="{{ tag.id }}"> {{ tag.name }}</option>
                            {% else %}
                                <option value="{{ tag.id }}"> {{ tag.name }}</option>
                            {% endif %}
                        {% endif %}
                    {% endfor %}
                </select>
            </div>
            <br /> 
            <div>
                <h3>Wähle weitere Tags</h3>
                <hr>
                <select class="custom-select" name="entry[tagID][]" multiple>
                    {% for tag in tags %}
                        {% if tag.main == 0 %}
                            {% if tag in entry.getTagId() %}
                                <option selected value="{{ tag.id }}"> {{ tag.name }}</option>
                            {% else %}
                                <option value="{{ tag.id }}"> {{ tag.name }}</option>
                            {% endif %}                        {% endif %}
                    {% endfor %}
                </select>
            </div>

        <button type="submit" class="btn btn-primary">Speichern</button>
    </form>
    {% endblock %}
{%  endblock %}